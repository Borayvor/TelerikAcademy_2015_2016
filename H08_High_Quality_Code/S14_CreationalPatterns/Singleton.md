# Singleton (Единствен)

### 1. Цел.
> Осигурява наличието на само един представител на даден клас и предоставя глобална точка за достъп до него.

### 2. Мотивация.
> За някои класове е важно да имат точно по една инстанция. Глобалната променлива прави обекта достъпен, но това не ви предпазва от инстанциране на множество обекти. По-доброто решение е да направите самия клас отговорен за следенето на единствената си инстанция. Класът може да гарантира, че не може да се създаде друга инстанция и може да предоставя начин за достъп до инстанцията.

### 3. Приложимост.
Използва се когато:
* трябва да има точно една инстанция на даден клас и тя трябва да бъде достъпна за клиентите чрез добре известна точка.
* когато единствената инстанция трябва да бъде разширяема чрез създаване на подкласове и клиентите трябва да могат да използват разширена инстанция, без да променят своя код.

### 4. Структура.
| Singleton               |
| :----------------------:|
|-------------------------|
| static Instance()    @--|-----------| return uniqueInstance |
| SingletonOperation()    |
| GetSingletonData()      |
|-------------------------|
| return  uniqueInstance  |

### 5. Участници.
* Singleton:
    * дефинира операция Instance, даваща на клиентите възможност да достигнат до уникалната инстанция.        Instance е операция в класа.
    * може да бъде отговорен за създаването на своя та уникална инстанция.

### 6. Взаимодействия.
> Клиентите достигат до инстанцията на Singleton единствено през операцията Instance на Singleton.

### 7. Следствия.
* Контролиран достъп до единствената инстанция.
* Намалено пространство от имена.
* Позволява усъвършенстването на операции и представяне.
* Позволява променлив брой инстанции.
* Повече гъвкавост от класовите операции.

### 8. Примерен код.
```
namespace Singleton
{
    public sealed class Singleton
    {
        private Singleton() { }
        private static readonly Singleton instance = new Singleton();
        
        public static Singleton Instance
        {
            get
            {
                return instance;
            }
        }
    }
}
```

### 9. Известни употреби.
> Пример за шаблона в Smalltalk-80 е набора от промени в кода, който е ChangeSet current. По-завоалиран пример е връзката между класове и техните метакласове. Метаклас е класа на нададен клас и всеки метаклас е с една инстанция. Метакласовете нямат имена, но те следят своите единствени инстанции и обикновено не създават други.




